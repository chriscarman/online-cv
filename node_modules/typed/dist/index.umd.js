(function(t,h){typeof exports=="object"&&typeof module!="undefined"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(t=typeof globalThis!="undefined"?globalThis:t||self,h(t.typed={}))})(this,function(t){"use strict";function h(n){return typeof n=="string"}function w(n){return typeof n=="number"&&Number.isFinite(n)}function A(n){return typeof n=="boolean"}function j(n){return typeof n=="undefined"}function N(n){return n instanceof Date&&Number.isFinite(n.getTime())}function y(n){return Array.isArray(n)}function E(n){return n===null}function m(n){return typeof n=="object"&&!E(n)&&!y(n)}function s(n){return{ok:!0,value:n}}function u(n){return{ok:!1,error:n}}function d(n){return n.ok}function b(n){return!d(n)}const D=(n,e)=>r=>{const o=n(r);return d(o)?e(o.value):o},T=(n,...e)=>r=>{const o=n(r);return b(o)?o:s(e.reduce((c,a)=>a(c),o.value))};function F(n){if(d(n))return n.value;throw n.error}function M(n,e){return d(n)?n.value:e}const _=n=>s(n);class f extends Error{constructor(e,r={path:[]}){super(e),this.message=e,this.info=r}toJSON(){return{message:this.message,info:this.info}}}const O=(n,e="Expecting array")=>r=>{if(!y(r))return u(new f(e,{input:r,path:[]}));const o=new Array(r.length);for(const[c,a]of r.entries()){const l=n(a);if(b(l))return l.error.info.path.unshift(c.toString()),l;o[c]=l.value}return s(o)},B=(n,e="Expecting array")=>{const r=O(n,e);return o=>y(o)?r(o):r([o])},J=(n,e=0)=>r=>Array.isArray(r)?n(r[e]):n(r),P=(n="Expecting boolean")=>e=>A(e)?s(e):u(new f(n,{input:e,path:[]})),k=(n="Expecting date")=>e=>N(e)?s(new Date(e.getTime())):u(new f(n,{input:e,path:[]})),U=n=>{const e=k(n);return r=>h(r)||w(r)?e(new Date(r)):e(r)},$=(n,e)=>r=>j(r)?s(e):n(r),q=(n,e)=>{const r=Object.values(n);return e!=null||(e=`Expecting one of ${r.join(", ")}`),o=>r.includes(o)?s(o):u(new f(e,{input:o,path:[]}))},z=n=>e=>{const r=Object.create(null);for(const o of n){const c=o(e);if(b(c))return c;Object.assign(r,c.value)}return s(r)},C=(n,e="Expecting literal")=>r=>r===n?s(r):u(new f(e,{input:r,path:[]})),G=n=>e=>E(e)?s(e):n(e),v=(n="Expecting number")=>e=>w(e)?s(e):u(new f(n,{input:e,path:[]})),H=n=>{const e=v(n);return r=>e(Number(r))},I=(n,e="Expecting object")=>{const r=Object.entries(n);return o=>{if(!m(o))return u(new f(e,{input:o,path:[]}));const c=Object.create(null);for(const[a,l]of r){const i=l(o[a]);if(b(i))return i.error.info.path.unshift(a),i;c[a]=i.value}return s(c)}},K=n=>e=>j(e)?s(e):n(e),L=(n,e,r="Expecting object")=>o=>{if(!m(o))return u(new f(r,{input:o,path:[]}));const c=Object.create(null);for(const[a,l]of Object.entries(o)){const i=n(a);if(b(i))return i.error.info.path.unshift(a),i;const g=e(l);if(b(g))return g.error.info.path.unshift(a),g;c[i.value]=g.value}return s(c)},S=(n="Expecting string")=>e=>h(e)?s(e):u(new f(n,{input:e,path:[]})),Q=n=>{const e=S(n);return r=>e(String(r))},R=(n,e="Expecting tuple")=>{const r=[...n.entries()];return o=>{if(!y(o))return u(new f(e,{input:o,path:[]}));const c=new Array(n.length);for(const[a,l]of r){const i=l(o[a]);if(b(i))return i.error.info.path.unshift(a.toString()),i;c[a]=i.value}return s(c)}},V=(n,e="Expecting one of the specified structs")=>r=>{for(const o of n){const c=o(r);if(d(c))return c}return u(new f(e,{input:r,path:[]}))},W=n=>s(n);t.StructError=f,t.any=_,t.array=O,t.asArray=B,t.asDate=U,t.asNumber=H,t.asOnly=J,t.asString=Q,t.boolean=P,t.chain=T,t.date=k,t.defaulted=$,t.enums=q,t.err=u,t.intersection=z,t.isErr=b,t.isOk=d,t.literal=C,t.map=D,t.nullable=G,t.number=v,t.object=I,t.ok=s,t.optional=K,t.record=L,t.string=S,t.tuple=R,t.union=V,t.unknown=W,t.unwrap=F,t.unwrapOr=M,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
